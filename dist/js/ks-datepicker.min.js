"use strict";!function(){function e(){function e(e){t.dates=e}var t=this;t.selectedDates=e}angular.module("ks-datepicker").controller("DemoController",e)}(),function(){angular.module("ks-datepicker",[])}(),function(){var e={templateUrl:"ks-datepicker/ks-datepicker.html",controller:"ksDatepickerController",controllerAs:"ksDatepicker",bindings:{dates:"<",dateOptions:"<",selectedDates:"&"}};angular.module("ks-datepicker").component("ksDatepicker",e)}(),function(){function e(){function e(){!n.dates,n.dayOptions={numOfMonths:3,modeOptions:["range","secondary","multi-select"],tableHeader:"Table Header"}}function t(){}function s(e,t){var s=e.map(function(e){return e.date}).sort(function(e,t){return e.getTime()-t.getTime()}),a=t.map(function(e){return e.date}).sort(function(e,t){return e.getTime()-t.getTime()}),r={selected:s,secondary:a};n.selectedDates({$value:r})}var n=this;n.init=e,n.setupDays=t,n.handleSelectedDays=s,e()}angular.module("ks-datepicker").controller("ksDatepickerController",e)}(),function(){var e={templateUrl:"ks-datepicker/ks-day/ks-day.html",controller:"ksDayController",controllerAs:"ksDay",bindings:{days:"<",dayOptions:"<",selectedDays:"&"}};angular.module("ks-datepicker").component("ksDay",e)}(),function(){function e(e){function t(e,t){var s={date:e,label:e.getDate(),selected:F.isDateSelected(e),secondary:F.isDateSecondary(e),disabled:!F.isDateInCurrentMonth(e,t),customClass:F.getClassName(e,t)};return s}function s(e){var t=F.startDate.getFullYear(),s=new Date(F.startDate);return s.setFullYear(t,e,1),{title:C[s.getMonth()]+" "+s.getFullYear(),weeks:F.getWeeks(s)}}function n(e,t){return F.isDateInCurrentMonth(e,t)?F.isDateSelected(e)?"ks-selected-date":F.isDateSecondary(e)?"ks-secondary-date":void 0:null}function a(e,t){for(var s,n=new Array(t),a=new Date(e),r=0;r<t;)s=new Date(a),n[r++]=s,a.setDate(a.getDate()+1);return n}function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?w[t]:29}function o(e){for(var t=new Array(e),s=F.startDate.getMonth(),n=0;n<t.length;n++)t[n]=F.createMonthObject(s+n);return t}function c(e,t,s){return e.map(function(e){return e[s]}).indexOf(t[s])}function d(e){var t=F.weekCount(e.getFullYear(),e.getMonth()),s=F.startingDay-e.getDay(),n=s>0?7-s:-s,a=new Date(e);n>0&&a.setDate(-n+1);for(var r=F.getDates(a,7*t),o=0;o<7*t;o++)r[o]=angular.extend(F.createDateObject(r[o],e.getMonth()),{uid:F.uniqueId(r[o])});var c=F.split(r,7);return F.viewedMonths[e.getFullYear()+"-"+e.getMonth()]=c,c}function i(){if(F.setupOptions(),F.days&&F.days.length>0)F.startDate=F.days[0];else{var e=new Date;F.startDate=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0),F.days=[]}F.secondaryDays=[],F.months=F.getMonthsFromNumber(F.dayOptions.numOfMonths)}function l(e,t){return e.getMonth()===t}function u(e){return F.getObjectIndexOf(F.secondaryDays,{uid:e.getTime()},"uid")>-1&&!F.isDateSelected(e)}function y(e){return F.days.map(function(e){return e.date.getTime()}).indexOf(e.getTime())>-1}function g(e){var t=F.startDate.getFullYear()+e*(F.step.years||0),s=F.startDate.getMonth()+e*(F.step.months||0);F.startDate.setFullYear(t,s,1),F.months=F.getMonthsFromNumber(F.dayOptions.numOfMonths)}function m(e){e.selected?(e.customClass=null,e.selected=!e.selected,F.days.splice(c(F.days,e,"uid"),1)):e.secondary?(e.customClass="ks-selected-date",e.selected=!e.selected,e.secondary=!e.secondary,F.days.push(e),F.secondaryDays.splice(c(F.secondaryDays,e,"uid"),1)):(e.customClass="ks-selected-date",e.selected=!e.selected,F.days.push(e))}function f(e,t,s){F.getObjectIndexOf(e,t,s)===-1&&e.push(t)}function D(){F.days=[],F.secondaryDays=[],angular.forEach(F.months,function(e){angular.forEach(e.weeks,function(e){angular.forEach(e,function(e){e.customClass=null,e.selected=!1,e.secondary=!1})})})}function h(e){e.selected?(e.customClass="ks-secondary-date",e.selected=!e.selected,e.secondary=!e.secondary,F.days.splice(c(F.days,e,"uid"),1),F.secondaryDays.push(e)):e.secondary&&(e.customClass="ks-selected-date",e.selected=!e.selected,e.secondary=!e.secondary,F.days.push(e),F.secondaryDays.splice(c(F.secondaryDays,e,"uid"),1))}function p(e){switch(F.mode){case"range":F.selectRange(e);break;case"secondary":S=!0,F.secondarySelect(e);break;case"multi-select":S=!0,F.multiSelect(e)}F.selectedDays({selected:F.days,secondary:F.secondaryDays})}function k(e){if(S)F.resetCalendar(),e.customClass="ks-selected-date",e.selected=!e.selected,F.days.push(e),S=!S;else{if(e.date.getTime()>F.days[0].date.getTime())Object.keys(F.viewedMonths).sort(F.sortMonths).forEach(function(t){var s=F.viewedMonths[t];angular.forEach(s,function(t){angular.forEach(t,function(t){t.date.getTime()>=F.days[0].date.getTime()&&t.date.getTime()<=e.date.getTime()&&(t.disabled||(t.customClass="ks-selected-date",t.selected=!0,F.pushDistinctObject(F.days,t,"uid")))})})});else{for(var t=Object.keys(F.viewedMonths).sort(F.sortMonths),s=t.length-1;s>=0;s--)for(var n=t[s],a=F.viewedMonths[n],r=a.length-1;r>=0;r--)for(var o=a[r],c=o.length-1;c>=0;c--){var d=o[c];d.date.getTime()<=F.days[0].date.getTime()&&d.date.getTime()>=e.date.getTime()&&(d.disabled||(d.customClass="ks-selected-date",d.selected=!0,F.pushDistinctObject(F.days,d,"uid")))}F.days.reverse()}S=!S}}function O(){["numOfMonths","modeOptions"].forEach(function(e){switch(e){case"numOfMonths":F.dayOptions[e]=F.dayOptions[e]||1;break;case"modeOptions":F.modeOptions=F.dayOptions[e]||["range"];for(var t=0;t<F.modeOptions;t++){var s=F.modeOptions[t];"multi-select"===s&&"secondary"===s&&"range"===s||F.modeOptions.splice(t,1)}F.mode=F.modeOptions[0]}})}function M(e,t){var s=e.substring(0,4),n=e.substring(5,e.length),a=t.substring(0,4),r=t.substring(5,t.length);return s-a||n-r}function v(e,t){for(var s=[];e.length>0;)s.push(e.splice(0,t));return s}function T(e){return e.getTime()}function b(e,t){var s=new Date(e,t,1),n=new Date(e,t+1,0),a=s.getDay()+n.getDate();return Math.ceil(a/7)}var C=e.DATETIME_FORMATS.MONTH,w=[31,28,31,30,31,30,31,31,30,31,30,31],S=!0,F=this;F.step={months:1},F.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,F.DAY_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F.viewedMonths={},F.modeOptions=[],F.createDateObject=t,F.createMonthObject=s,F.getClassName=n,F.getDates=a,F.getDaysInMonth=r,F.getMonthsFromNumber=o,F.getObjectIndexOf=c,F.getWeeks=d,F.init=i,F.isDateInCurrentMonth=l,F.isDateSecondary=u,F.isDateSelected=y,F.move=g,F.multiSelect=m,F.pushDistinctObject=f,F.resetCalendar=D,F.secondarySelect=h,F.select=p,F.selectRange=k,F.setupOptions=O,F.sortMonths=M,F.split=v,F.uniqueId=T,F.weekCount=b,i()}e.$inject=["$locale"],angular.module("ks-datepicker").controller("ksDayController",e)}();